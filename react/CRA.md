# Getting started
- ※주의※: fronend쪽은 아무것도 모르는 백지 상태에서 작성됨
- React 용 boilerplate
- boilerplate? 
  - Def. 변경 없이 계속하여 재 사용할 수 있는 저작품
  - 쉽게 생각하면, 특정한 틀(환경 설정 등등)을 만들어 줄테니 그 위에서 로직만 구현하면 됨
  - `package.json`에 필요한 모듈을 모두 정의해 로직만 구현하면 됨
- Why? 재 사용성 + 의존성관리로부터 보다 자유로워 짐
- 느낌
  - 어떤 모듈들이 어떤 역할을 하는지에 대해 전혀 아는 것이 없어 꽤나 험난한 길일듯 함
  - 정해진 frame에 맞춰진 느낌. frame을 벗어날 순 있을 것 같은데, 사전지식 없이는 올바른 사용이 어려울 듯함

``` bash
# install node via nvm
$ curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.34.0/install.sh | bash
$ source .bashrc
$ nvm install --lts

# install yarn
$ npm install -g yarn

# create react app
$ yarn create react-app ${your_workspce_name}
```

# Auditing
TypeScript도 익숙해지고, node 생태계 및 의존성등을 이해하기 위함

``` bash
$ git clone https://github.com/facebook/create-react-app
```

## README.md
- You **don't** need to install or configure tools like Webpack or Babel
- transitive dependency (의존성 전이)
  - 어떤 모듈을 의존성으로 추가했을 때, 해당 모듈의 의존성까지 딸려옴
  - `if A -> B and B -> C then A -> C`
- Stance: from Philosophy
  - 잘 모르겠어? 복잡한 건 우리가 할테니까, 개발만 해!
  - 근데 우리 설정이 마음에 안들면 바꿔도 돼
- PWE(Progressive Web App) : 여기에선 skip
  - service worker
  - web app manifest
- Others: `server rendering, component, native`
- License: MIT

## packages
### react-dev-utils
- InterpolateHtmlPlugin
  - 말그대로 interpolate
  - webpack의 compilation pass에 hook
  - user가 준 어떤 `replacements`들을 Regex로 변환 후 html에 삽입
  - example: `<link rel="shortcut icon" href="%PUBLIC_URL%/favicon.ico">`
  - how to hook? (webpack을 모르기에 추측할 뿐)
  ```
  1. enrollment: compiler.hooks.compilation.tap
  2. compliation pass
    - getHooks
    - beforeEmit: 다음 pass로 넘기기전에 transformation
  ```
- InlineChunkHtmlPlugin
  - webpack의 compilation pass에 hook
  - assets: 리소스(code, image, etc.)들로 추정
  - getInlinedTag
    

### react-scripts
#### build: keyword > `webpack`
- bundles react in production mode and optimizes the build
- minified and the filenames include the hashes
  ``` javascript
  /*
    1. checkRequiredFiles: cwd에 boilerplate가 준비한 것들이 있어야 함
    2. checkBrowsers
      - file size measure & dir setting
      - build: webpack compile
    3. resolve warnings & print several configs out into package.json
  */
  ```

#### start: keyword > `HOST/PORT, server, browser`
  ``` javascript
  /*
    1. HOST / PORT initialization
    2. dev server creation
    3. openBrowser
  */
  ```

#### test: keyword > `jest`
- default: `related files` changed since the last commit
  ``` javascript
  /*
    using jest >  jest config : scripts/utils/createJestConfig.js
    testMatch
      : __tests__/*.{js, jsx, ts, tsx}
      : *.{spec,test}.{js, jsx, ts, tsx}
    transform
      : js - babel-jest || config/jest/babelTransform.js ==> babel-preset-react-app
      : css - config/jset/cssTransform.js
      : others - config/jest/fileTransform.js
  */
  ```
#### eject: keyword > `diff & merge`
  ``` javascript
  /*
    1. check git status: diff떠보고 다르면 reject
    2. 이미 빌드된게 있나 보고 있으면 reject
    3. 특정 file들을 filtering & skip
    4. merge / modify package.json
      - remove eject in scripts
  */
  ```

### eslintConfig
- ESLint: 간단하게 문법 검사기
- `eslint-config-react-app` [[link](https://github.com/facebook/create-react-app/blob/master/packages/eslint-config-react-app/index.js)]

### react-dom
TBD

### react
TBD

---
## The Real World
### App
- public : static 한 resources
  - index.html : entry point
  - manifest.json : Web App manifest
    - short_name & name: 유저의 display에 따라 
    - start_url: 유저의 entry point (e.g., `HOST:PORT/${path}`)
    - display: fullscreen, minimul-ui, standalone, browser
- src
  - index.js
  - App.js
  - serviceWorker.js

### etc
- `.gitignore`
  - pnp: `pnp-webpack-plugin`: generated by webpack
  - test results & logs & generated config files

---
## Reference
- http://www.terms.co.kr/boilerplate.htm
- https://velopert.com/2037
- https://eunvanz.github.io/react/2018/06/05/React-create-react-app%EC%9C%BC%EB%A1%9C-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0/
- https://developer.mozilla.org/en-US/docs/Web/Manifest
- https://facebook.github.io/create-react-app/docs/running-tests